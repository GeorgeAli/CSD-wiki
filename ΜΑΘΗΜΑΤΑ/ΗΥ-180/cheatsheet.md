# Logic Cheatsheet
Logic cheatsheet for the essential knowledge

# Lesson Material

* [Αλγόριθμος μετατροπής σε CNF-DNF](#Αλγόριθμος-μετατροπής)
* [Μορφολογική Παραγωγή](#Μορφολογική-Παραγωγή)
* [Κατασκευή Μοντέλων](#Κατασκευή-Μοντέλων)
* [Μέθοδος Επίλυσης](#Μέθοδος-Επίλυσης)
* [Μέθοδος Ανασκευής Μοντέλων](#Μέθοδος-Ανασκευής-Μοντέλων)
* [Μορφολογική Παραγωγή στον Κατηγορηματικό Λογισμό](#Μορφολογική-Παραγωγή-στον-Κατηγορηματικό-Λογισμό)
* [Κατασκευή Μοντέλων στον Κατηγορηματικό Λογισμό](#Κατασκευή-Μοντέλων-στον-Κατηγορηματικό-Λογισμό)

***
## Σημαντικοί Κανόνες που πρέπει να ξέρεις

### Προτασιακός Λογισμός
**Α → B** ≡ **¬Α ∨ B** <br>
**Α** ↔ **Β** ≡ (**Α ∧ B**) ∨ (**¬Α ∧ ¬B**) <br>

**A ∧ ¬Α** ≡ **F** <br>
**A ∨ ¬Α** ≡ **T** <br>

**S ∧ ¬T** ≡ **S** <br>
**S ∧ ¬F** ≡ **F** <br>
**S ∨ ¬T** ≡ **T** <br>
**S ∨ ¬F** ≡ **S** <br>

### Κατηγορηματικός Λογισμός
**¬∀xf(x)** = **∃x¬f(x)** <br>
**¬∃xf(x)** = **∀x¬f(x)** <br>

### Κόλπα Μορφολογική Παραγωγή
Στη περίπτωση που δεν υπάρχει Υπόθεση παραγωγής, μπορούμε να εφαρμόσουμε το θεώρημα: <br><br>
**A ∨ ¬Α** (*Προτασιακός Λογισμός*):
```
/ Συμπέρασμα

...
1. A ∨ ¬Α (Θεώρημα)
2. Υποπαραγωγή
   2.1 Α
   ...
   2.x Συμπέρασμα
3. Υποπαραγωγή
   3.1 ¬Α
   ...
   3.x Συμπέρασμα
4. Συμπέρασμα (Από (2),(3) με απαλοιφή διάζευξης)
```
**Q(A) ∨ ¬Q(Α)** (*Κατηγορηματικός Λογισμός*):
```
/ Συμπέρασμα

...
1. Q(A) ∨ ¬Q(Α) (Θεώρημα)
2. Υποπαραγωγή
   2.1 Q(A)
   ...
   2.x Συμπέρασμα
3. Υποπαραγωγή
   3.1 ¬Q(A)
   ...
   3.x Συμπέρασμα
4. Συμπέρασμα (Από (2),(3) με απαλοιφή διάζευξης)
```

## Αλγόριθμος μετατροπής

### σε CNF
1. Αφαιρούμε μη-απαραίτητες παρενθέσεις π.χ. (A ∧	B) ∧	C γράφεται ως A ∧	B ∧ C.
2. Βρίσκουμε τη διάζευξη που βρίσκεται σε μεγαλύτερο βάθος και περιέχει
τουλάχιστον μία σύζευξη.
Ø Αν δεν υπάρχει τέτοια υποπρόταση, πηγαίνουμε στο βήμα (3).
Ø Αν υπάρχουν περισσότερες από μία, διαλέγουμε μία από αυτές.
3. Στη διάζευξη που επιλέγεται στο βήμα (1) εφαρμόζουμε την επιμεριστικότητα
της διάζευξης (Α ∨ (Β ∧ C) ≡ (Α ∨ Β) ∧ (A ∨	C)), αφαιρούμε περιττές
παρενθέσεις. Επιστρέφουμε στο βήμα (1).
4. Απλοποιούμε κάθε διάζευξη χρησιμοποιώντας την ισοδυναμία της αυτοπάθειας
(Α ∨ Α ≡ Α).
5. Αν υπάρχουν διαζεύξεις που χρησιμοποιούν τα ίδια γράμματα, κρατάμε μόνο
μία από αυτές.
6. Τέλος, παραλείπουμε κάθε διάζευξη που περιέχει όλα τα γράμματα μιας άλλης
διάζευξης. (απορρόφηση)

### σε DNF
1. Αφαιρούμε μη-απαραίτητες παρενθέσεις π.χ. (A ∨	B) ∨ C γράφεται ως
A ∨	B ∨ C.
2. Βρίσκουμε τη σύζευξη που βρίσκεται σε μεγαλύτερο βάθος και περιέχει
τουλάχιστον μία διάζευξη.
Ø Αν δεν υπάρχει τέτοια υποπρόταση, πηγαίνουμε στο βήμα (3).
Ø Αν υπάρχουν περισσότερες από μία, διαλέγουμε μία από αυτές.
3. Στη σύζευξη που επιλέγεται στο βήμα (1) εφαρμόζουμε την
επιμεριστικότητα της σύζευξης (Α ∧ (Β ∨ C) ≡ (Α ∧ Β) ∨ (A ∧	C)),
αφαιρούμε περιττές παρενθέσεις. Επιστρέφουμε στο βήμα (1).
4. Απλοποιούμε κάθε σύζευξη χρησιμοποιώντας την ισοδυναμία της
αυτοπάθειας. (Α ∧ Α ≡ Α).
5. Αν υπάρχουν συζεύξεις που χρησιμοποιούν τα ίδια γράμματα, κρατάμε
μόνο μία από αυτές.
6. Τέλος παραλείπουμε κάθε σύζευξη που περιέχει όλα τα γράμματα μιας
άλλης σύζευξης. (απορρόφηση)

## Μορφολογική Παραγωγή

### Κανόνες
1. Εισαγωγή σύζευξης:
```
   Α
   Β
--------
 Α ∧ B
```
2. Απαλοιφή σύζευξης:
```
 Α ∧ B
-------
   Α

 Α ∧ B
-------
   B
```
3. Απαλοιφή συνεπαγωγής:
```
 Α → Β
   A
-------
   B
```
4. Εισαγωγή διάζευξης δεξιά:
```
   Α
------- 
 Α ∨ B
```
5. Εισαγωγή διάζευξης αριστερά:
```
   B
-------
 Α ∨ B
```
6. Απαλοιφή ισοδυναμίας αριστερά:
```
 Α ↔ Β
   A
------- 
   B
```
7. Απαλοιφή ισοδυναμίας δεξιά:
```  
 Α ↔ Β
   B
------- 
   A
```
8. Απαλοιφή άρνησης:
```
¬¬Α
-----
  Α
```
9. Επανάληψη:
```
  Α
-----
  Α
```
10. Απαλοιφή άρνησης 2:
```
 Α ∨ B
  ¬Α
-------
   B
```
11. Εισαγωγή συνεπαγωγής (*Υποπαραγωγή*):
```
   Α
 -----
   B
-------
 Α → Β 
 ```
12. Απαλοιφή διάζευξης (*Υποπαραγωγή*):
```
  Α ∨ B
  Α   B
 --- ---
  C   C
---------
    C
```
13. Εισαγωγή ισοδυναμίας (*Υποπαραγωγή*):
```
  Α   B
 --- ---
  B   A
--------
  Α ↔ Β
```
14. Εισαγωγή Άρνησης (*Υποπαραγωγή*):
```
  Α 
 --- ¬B
  B  
--------
   ¬Α
```

## Κατασκευή Μοντέλων
ΚΑΝΟΝΑΣ | Χ | Υ
--- | ---| ---
∧ | S ∪ {A ∧ B} | S ∪ {A, B}
∨ | S ∪ {A ∨ B} | S ∪ {A}, S ∪ {B}
→ | S ∪ {A → B} | S ∪ {¬A}, S ∪ {B}
↔ | S ∪ {A ↔ B} | S ∪ {A,B}, S ∪ {¬A,¬B}
¬∧ | S ∪ {¬(A ∧ B)} | S ∪ {¬A}, S ∪ {¬B}
¬∨ | S ∪ {¬(A ∨ B)}  | S ∪ {¬A, ¬B}
¬→ | S ∪ {¬ (A → B)} | S ∪ {A, ¬B}
¬↔ | S ∪ {¬ (A ↔ B)} | S ∪ {A, ¬B}, S ∪ {¬A, B}
¬¬ | S ∪ {¬¬A} | S ∪ {A}
del | S ∪ {A, ¬A} | (delete)

### Παράδειγμα:
```
Δείξτε την εγκυρότητα της εξαγωγής συμπεράσματος { (P ∨ Q) ∨ R } / { R ∨ (Q ∨ P) }

C0 = {{ (P ∨ Q) ∨ R, ¬ (R ∨ (Q ∨ P)) } }
C1 = {{ (P ∨ Q) ∨ R, ¬R, ¬(Q ∨ P)}} από [¬∨]
C2 = {{ (P ∨ Q) ∨ R, ¬R, ¬Q, ¬ P}} από [¬∨]
C3 = {{ P ∨ Q, ¬R, ¬Q, ¬ P},{ R, ¬R, ¬Q, ¬ P}} από [∨]
C4 = {{ P ∨ Q, ¬R, ¬Q, ¬ P}} από [del]
C5 = {{ P , ¬R, ¬Q, ¬ P},{ Q, ¬R, ¬Q, ¬ P}} από [∨]
C6 = {{ Q, ¬R, ¬Q, ¬ P}} από [del]
C7 = {}

Δεν υπάρχει μοντέλο για το S.
Άρα το S είναι μη ικανοποιήσημο και η εξαγωγή συμπεράσματος είναι έγκυρη.

Με δέντρο:

                                      (1) (P ∨ Q) ∨ R
                                      (2) ¬ (R ∨ (Q ∨ P))
--------------------------------------------------------------------------------------- 2[¬∨]
                                      (3) ¬R
                                      (4) ¬(Q ∨ P)
--------------------------------------------------------------------------------------- 4[¬∨]
                                      (5) ¬Q
                                      (6) ¬P
--------------------------------------------------------------------------------------- 1[∨]
(7) R                                                             (8) P ∨ Q
=========== 3                                      ------------------------------------ 8[∨]
                                                        (9) P                 (10) Q
                                                        ========= 6           ========= 5
```

## Μέθοδος Επίλυσης
Χρησιμοποιείστε τη μέθοδο επίλυσης για να εξετάσετε την ικανοποιησιμότητα του <br>
παρακάτω συνόλου: <br>
```{¬P ∨ (P ∧ Q),P → Q, Q → R, ¬R ∧ P}```
Η πρώτη πρόταση γράφεται ισοδύναμα ως εξής: <br>
```¬P ∨ (P ∧ Q) ≡ (¬P ∨ P) ∧ (¬P ∨ Q) ≡ ¬P ∨ Q```
H δεύτερη και η τρίτη πρόταση γράφονται ισοδύναμα ως εξής: <br>
```
P → Q ≡ ¬P ∨ Q
Q → R ≡ ¬Q ∨ R
```
Η τελευταία πρόταση είναι σύζευξη δύο γραμμάτων. Άρα αντιστοιχεί σε δύο ξεχωριστούς <br>
όρους, τους {¬R} και {¬P}. (Η πρόταση είναι ήδη σε CNF, ως σύζευξη δύο «διαζεύξεων» <br>
όπου κάθε «διάζευξη» είναι απλά ένα γράμμα). <br>
Άρα έχουμε το εξής σύνολο όρων: <br>
```S = {{¬P, Q},{¬Q, R}, ¬R, P}``` <br><br>
Σχηματίζουμε όρους επίλυσης από τους παραπάνω όρους: <br>
```res({¬P, Q},{¬Q, R}) = {¬P, R}``` <br>
```res({¬P,Q}, P) = Q``` <br>
```res({¬Q, R}, ¬R) = ¬Q``` <br><br>
Σύμφωνα με την αρχή της επίλυσης, το σύνολο R(S), που αποτελείται από τους όρους του R(S) <br>
συν τους παραπάνω όρους επίλυσης, είναι το εξής: <br>
```R(S) = ({¬P, Q},{¬Q, R}, ¬R, P,{¬P, R}, Q, ¬Q}``` <br><br>
To σύνολο R(S) είναι μη ικανοποιήσιμο, αφού δε μπορεί να είναι ταυτόχρονα αληθείς η Q και <br>
η ¬Q. Άρα σύμφωνα με τη αρχή της επίλυσης και το αρχικό σύνολο S είναι μη ικανοποιήσιμο. <br>
Εναλλακτικά, μπορούμε να αναπαραστήσουμε τη διαδικασία με το παρακάτω δέντρο <br>
επίλυσης: <br>
```
                      {¬P, Q}  P   {¬Q, R}  ¬R
                        \     /     \      /
                           Q           ¬Q
                             \        /
                                  F
```

ΠΡΟΣΟΧΗ: Η επίλυση όρων της μορφής {¬P,Q}, {P, ¬Q} καταλήγει σε T αφού: <br>
```
res({¬P, Q},{P, ¬Q}) = {¬P, P} = T ή
res({¬P, Q},{P, ¬Q}) = {¬Q, Q} = T
```

## Μέθοδος Ανασκευής Μοντέλων
* Έστω το εξής ικανοποιήσιμο σύνολο όρων Horn: W = {{T,¬P,¬R}, Q, {R, ¬Q}, {P,¬Q}}
Αποφασίστε εάν ισχύει ότι W╞ T.
Αρκεί να βρούμε μια ακολουθία ανασκευής που να ξεκινάει
από το ¬T.
```
    {T,¬P,¬R}            {R, ¬Q}             {P,¬Q}          Q
¬T ----------> {¬P, ¬R} ---------> {¬P, ¬R} --------> ¬Q --------> F
```

## Μορφολογική Παραγωγή στον Κατηγορηματικό Λογισμό 

## Κατασκευή Μοντέλων στον Κατηγορηματικό Λογισμό

### Παράδειγμα:
```
Δείξτε την εγκυρότητα της εξαγωγής συμπεράσματος { ∃x∀y R(x,y) } / { ¬∃x R(x,a) }

C0 = { {∃x∀y R(x,y), ¬∃x R(x,a)} }
C1 = { { ∀y R(b,y), ¬∃x R(x,a)} } [∃, b/x]
C2 = { {R(b,a), ∀y R(b,y), ¬∀x R(x,a)} } [, a/y]
C3 = { {R(b,a), ∀y R(b,y), ∀x ¬R(x,a)} } [¬∃]
C4 = { {R(b,a), ∀y R(b,y), ¬R(b,a), ∀x ¬R(x,a)} } [∀, b/x]
C5 = { } [del]

Με δέντρο:
                                       x (1) ∃x∀y R(x,y)
                                       x (2) ¬∃x R(x,a)
                                        ________________ 1 [b/x]
                                        (3) ∀y R(b,y)
                                        _________________ 2
                                        (4) ∀x ¬R(x,a)
                                        __________________ 3 [a/y]
                                        (5) R(b,a)
                                        __________________ 4 [b/x]
                                        (6) ¬R(b,a)
                                        ================= 5

```
