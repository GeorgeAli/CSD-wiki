# ΛΥΣΗ ΘΕΜΑΤΩΝ 2016-2017 ΦΕΒΡΟΥΑΡΙΟΣ

## ΘΕΜΑ 1

1) γ
2) α
3) γ
4) γ
5) γ

## ΘΕΜΑ 2

 
## ΘΕΜΑ 3

~~~~
<%@page import="java.util.Iterator"%>
<!DOCTYPE html>
<%@ page import="java.util.HashMap"%>
<%@ page contentType="text/html" pageEncoding="UTF-8"%>

<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html"; charset="UTF-8">
        <title>Grades</title>
    </head>
    <body>
        <%
            int val = Integer.parseInt(request.getParameter("grade"));
            
            HashMap<String, Integer> grades = null;
            HttpSession session1 = request.getSession();
            
            if(session1.getAttribute("memory") == null){
                grades = new HashMap<String, Integer>();
                session1.setAttribute("memory", (HashMap<String, Integer>)(grades));
            }else {
                grades = new HashMap<String, Integer>((HashMap<String, Integer>)session1.getAttribute("memory"));
            }
            
            grades.put("no_" + val, val);
            session1.setAttribute("memory", grades);
            
            int sum = 0;
            Iterator it = grades.entrySet().iterator();
            while (it.hasNext()) {
                HashMap.Entry<String, Integer> pair = (HashMap.Entry<String, Integer>)it.next();
                sum += pair.getValue();
            }
            out.println(sum/grades.size());
            
        %>
    </body>
</html>
~~~~

## ΘΕΜΑ 4

### α)

~~~~
Closure: στη JavaScript μπορείτε είναι ένα object που κάνει εσωτερικές λειτουργίες (ένθυλακωμένες λειτουργίες)
οι οποιες έχουν πρόσβαση σε μεταβλητές που δηλώνονται σε εξωτερικά τους πεδία.
Το closure είναι ένα ειδικό είδος αντικειμένου που συνδυάζει δύο πράγματα! 
1. μια λειτουργία
2. και το περιβάλλον στο οποίο δημιουργήθηκε και εκτελείται η λειτουργία

function init() {
  var name = 'Mozilla'; // name is a local variable created by init
  function displayName() { // displayName() is the inner function, a closure
    alert(name); // use variable declared in the parent function    
  }
  displayName();    
}
init();
~~~~

### β)

~~~~
function A(x) {return x * (x - 1); }
function B(f, x) {return (f(x)); }
function C(f, n) {
    return(function(x){
        return f(x) + n;
    } );
}

alert(A(4)); //a = 12
alert(B(A, 4)); //b = 12

var param = 4;
var test = C(A, param);
alert(test(1)); //c = 4
param = 3;
alert(test(1)); //d = 4
var test = C(A, param);
alert(test(1)); //e = 3
~~~~

### γ)

~~~~
i)
var magicAPI = function(){
        var state =  {
            on: false
        };
        
        return {
            isOn: function() {
                return state.on;
            }
        };
}();

magicAPI.isOn; // trexei komple
magicAPI.state.on; // den exoume access sto closure

ii) den 8a etrexe tipota, den exoume error apla den sumbainei tipota

iii) parentheseis sto magicAPI kai gg: magicAPI().isOn;
~~~~

## ΘΕΜΑ 5


## ΘΕΜΑ 6

### α)
Μετά την αποστολή της φόρμας το id="value" μπορεί να είναι, είτε 1, είτε 2
   <br />αφού το GET κάνει ασύχρονη κλήση και μπορεί να τρέξει πρώτο το ping1 ή το ping2 τυχαία.

### β)
Το request.open("", "Pong?value1", true) πρέπει να γίνει request.open("", "Pong?value1", false);
   <br />και το request.open("", "Pong?value2", true) πρέπει να γίνει request.open("", "Pong?value2", false); 
   <br />με αυτό το τρόπο εξασφαλίζουμε ότι τρέχουν με τη σειρά και όχι ασύγχρονα.

## ΘΕΜΑ 7


## ΘΕΜΑ 8

Από τη στιγμή που το email στέλνετε σε κάποιον και εκείνος το παραλάβει και το φορτώσει να ανοίξει, μαζί με τα υπόλοιπα στοιχεία του email θα σταλεί request και στο http://tracking.com/1px.gif για να φορτωθεί αυτη η εικόνα στο email. Αλλά επειδή εγώ ως tracker έχω δώσει την IP αυτή μόνο στο email αυτό, ξέρω ότι οποιοδήποτε request μου σταλεί για αυτή την εικόνα, ξέρω ότι είναι από ένα χρήστη που άνοιξε το email αυτό.
Επειδή όμως μου στέλνει το request για να πάρει την απάντηση, πρέπει να μου δώσει και την IP του για να του στείλω την είκονα, και έτσι έχω πρόσβαση και εγώ στην IP του.
